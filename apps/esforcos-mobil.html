<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Esforços versió mòbil · Vibe Coding Educatiu UI</title>
  <link rel="stylesheet" href="../assets/css/shell.css" />
  <style>
    :root{
      --bg-top:#0b1226;
      --bg-bottom:#0f172a;
      --card:rgba(17,24,39,.85);
      --border:rgba(148,163,184,.18);
      --border-strong:rgba(148,163,184,.32);
      --text:#e5e7eb;
      --muted:#94a3b8;
      --accent:#38bdf8;
      --accent-2:#a78bfa;
      --danger:#ef4444;
      --radius-lg:22px;
      --radius:14px;
      --shadow:0 24px 60px rgba(2,6,23,.55);
      --dur:280ms;
      --ease:cubic-bezier(.22,1,.36,1);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans";
      min-height:100vh;
      background:linear-gradient(to bottom,var(--bg-top),var(--bg-bottom));
      color:var(--text);
      display:flex;
      flex-direction:column;
      align-items:center;
    }
    main{
      width:100%;
      max-width:540px;
      padding:24px 18px 120px;
      display:flex;
      flex-direction:column;
      gap:24px;
    }
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:var(--radius-lg);
      box-shadow:var(--shadow);
      backdrop-filter:blur(10px);
      -webkit-backdrop-filter:blur(10px);
      padding:28px 22px;
      display:flex;
      flex-direction:column;
      gap:24px;
    }
    header h1{
      margin:0;
      font-size:clamp(26px,6vw,32px);
      font-weight:800;
      letter-spacing:.3px;
    }
    header p{
      margin:8px 0 0;
      color:var(--muted);
      font-size:clamp(16px,4.8vw,18px);
      line-height:1.5;
    }
    .block-title{
      margin:0;
      font-size:clamp(18px,5vw,22px);
      font-weight:700;
    }
    .formula-note{
      margin:6px 0 0;
      color:var(--muted);
      font-size:15px;
      line-height:1.5;
    }
    .formula-display{
      display:flex;
      flex-direction:column;
      gap:18px;
    }
    .sigma-identity{
      font-size:clamp(20px,6vw,26px);
      font-weight:700;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .fraction{
      display:grid;
      grid-template-columns:auto 1fr auto auto;
      align-items:center;
      gap:16px;
      padding:18px;
      border:1px solid var(--border);
      border-radius:var(--radius);
      background:rgba(2,6,23,.55);
    }
    .fraction-label{
      font-size:18px;
      font-weight:700;
    }
    .fraction-stack{
      display:grid;
      gap:10px;
    }
    .fraction-stack .row{
      display:flex;
      align-items:center;
      gap:8px;
      background:rgba(15,23,42,.72);
      border:1px solid var(--border-strong);
      border-radius:var(--radius);
      padding:10px 14px;
    }
    .fraction-stack input{
      flex:1;
      border:0;
      background:transparent;
      color:var(--text);
      font-size:20px;
      font-weight:700;
      text-align:right;
      font-variant-numeric:tabular-nums;
      outline:none;
    }
    .fraction-stack input::placeholder{color:rgba(148,163,184,.5);}
    .unit{
      color:var(--muted);
      font-size:16px;
      font-weight:600;
      white-space:nowrap;
    }
    .result-value{
      font-size:24px;
      font-weight:800;
      letter-spacing:.4px;
      font-variant-numeric:tabular-nums;
    }
    .area-blocks{
      display:grid;
      gap:18px;
    }
    .area-card{
      display:flex;
      flex-direction:column;
      gap:14px;
      padding:18px;
      border-radius:var(--radius);
      border:1px solid var(--border);
      background:rgba(2,6,23,.55);
    }
    .area-card h3{
      margin:0;
      font-size:18px;
      font-weight:700;
    }
    .input-pair{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
    }
    .input-pair label,
    .single-input label{
      display:grid;
      gap:6px;
      font-size:15px;
      color:var(--muted);
    }
    .input-pair input,
    .single-input input{
      width:100%;
      border:1px solid var(--border-strong);
      border-radius:var(--radius);
      background:rgba(15,23,42,.72);
      color:var(--text);
      font-size:18px;
      padding:12px;
      font-variant-numeric:tabular-nums;
      outline:none;
      transition:border-color var(--dur) var(--ease), box-shadow var(--dur) var(--ease);
    }
    .input-pair input:focus,
    .single-input input:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 3px rgba(56,189,248,.18);
    }
    .area-result{
      font-size:20px;
      font-weight:700;
      display:flex;
      align-items:center;
      justify-content:space-between;
      background:rgba(15,23,42,.8);
      border:1px solid var(--border);
      border-radius:var(--radius);
      padding:12px 16px;
      font-variant-numeric:tabular-nums;
    }
    .area-result span:last-child{color:var(--accent);}
    footer{
      margin-top:12px;
      color:var(--muted);
      font-size:13px;
      text-align:center;
    }
    .bottom-nav{
      position:fixed;
      bottom:0;
      left:0;
      right:0;
      display:flex;
      justify-content:center;
      padding:12px 16px 24px;
      pointer-events:none;
    }
    .bottom-nav .back-link{
      pointer-events:auto;
      width:100%;
      max-width:360px;
      justify-content:center;
    }
    @media (min-width:641px){
      main{padding-bottom:96px;}
      .bottom-nav{padding-bottom:28px;}
    }
  </style>
</head>
<body>
  <nav class="top-nav" aria-label="Navegació principal">
    <a class="logo" href="../index.html"><span>VC</span>Aula d'Estructures</a>
    <a class="back-link" href="../index.html" aria-label="Torna a la portada de l'Aula d'Estructures">← Torna a l'inici</a>
  </nav>
  <main>
    <section class="card" aria-labelledby="titol-app">
      <header>
        <h1 id="titol-app">Esforços versió mòbil</h1>
        <p>Calculadora d'esforç de tracció o compressió amb controls grans i lectura còmoda per a pantalles verticals.</p>
      </header>

      <div class="formula-display" aria-labelledby="calc-title">
        <h2 id="calc-title" class="block-title">Calculadora d'esforç de tracció o compressió</h2>
        <div class="sigma-identity">σ = F / A</div>
        <p class="formula-note">Introdueix la força en newtons i l'àrea en metres quadrats. σ es mostrarà en pascals (Pa).</p>
        <div class="fraction" role="group" aria-label="Càlcul de l'esforç">
          <span class="fraction-label">σ =</span>
          <div class="fraction-stack">
            <label class="row" for="forca">
              <input id="forca" type="number" inputmode="decimal" placeholder="F" aria-label="Força en newtons" />
              <span class="unit">N</span>
            </label>
            <label class="row" for="area">
              <input id="area" type="number" inputmode="decimal" placeholder="A" aria-label="Àrea en metres quadrats" />
              <span class="unit">m²</span>
            </label>
          </div>
          <span class="result-value" id="sigma">—</span>
          <span class="unit">Pa</span>
        </div>
      </div>

      <div class="area-blocks" aria-labelledby="areas-title">
        <h2 id="areas-title" class="block-title">Càlcul d'àrees</h2>

        <div class="area-card" aria-labelledby="rect-title">
          <h3 id="rect-title">Rectangle</h3>
          <div class="input-pair">
            <label for="ample">
              Amplada (m)
              <input id="ample" type="number" inputmode="decimal" placeholder="p. ex. 0.40" aria-label="Amplada en metres" />
            </label>
            <label for="alt">
              Altura (m)
              <input id="alt" type="number" inputmode="decimal" placeholder="p. ex. 0.15" aria-label="Altura en metres" />
            </label>
          </div>
          <div class="area-result">
            <span>A<sub>rectangle</sub></span>
            <span id="area-rect">— m²</span>
          </div>
        </div>

        <div class="area-card" aria-labelledby="cercle-title">
          <h3 id="cercle-title">Cercle</h3>
          <div class="single-input">
            <label for="radi">
              Radi (m)
              <input id="radi" type="number" inputmode="decimal" placeholder="p. ex. 0.08" aria-label="Radi en metres" />
            </label>
          </div>
          <div class="area-result">
            <span>A<sub>cercle</sub></span>
            <span id="area-cercle">— m²</span>
          </div>
        </div>
      </div>

      <footer>Fet per Juan Arambul com a complement al tema d'Estructures i Esforços</footer>
    </section>
  </main>

  <div class="bottom-nav" aria-hidden="false">
    <a class="back-link" href="../index.html" aria-label="Torna a l'inici">← Torna a l'inici</a>
  </div>

  <script>
    const fmt = (n, opts={}) => {
      if (!isFinite(n)) return '—';
      const base = {maximumFractionDigits:4};
      return new Intl.NumberFormat('ca-ES', {...base, ...opts}).format(n);
    };

    const forceInput = document.getElementById('forca');
    const areaInput = document.getElementById('area');
    const sigmaOut = document.getElementById('sigma');

    const ampleInput = document.getElementById('ample');
    const altInput = document.getElementById('alt');
    const rectOut = document.getElementById('area-rect');

    const radiInput = document.getElementById('radi');
    const circleOut = document.getElementById('area-cercle');

    const inputs = [forceInput, areaInput, ampleInput, altInput, radiInput];
    inputs.forEach(el => el.addEventListener('input', handleInput));

    function handleInput(){
      computeSigma();
      computeAreas();
    }

    function computeSigma(){
      const F = parseFloat(forceInput.value);
      const A = parseFloat(areaInput.value);
      if (isFinite(F) && isFinite(A) && A !== 0){
        const sigma = F / A;
        sigmaOut.textContent = fmt(sigma, {maximumFractionDigits:6});
      } else {
        sigmaOut.textContent = '—';
      }
    }

    function computeAreas(){
      const ample = parseFloat(ampleInput.value);
      const alt = parseFloat(altInput.value);
      if (isFinite(ample) && ample > 0 && isFinite(alt) && alt > 0){
        const area = ample * alt;
        rectOut.textContent = `${fmt(area)} m²`;
      } else {
        rectOut.textContent = '— m²';
      }

      const radi = parseFloat(radiInput.value);
      if (isFinite(radi) && radi > 0){
        const areaC = Math.PI * radi * radi;
        circleOut.textContent = `${fmt(areaC)} m²`;
      } else {
        circleOut.textContent = '— m²';
      }
    }

    // Valors d'exemple per facilitar proves
    forceInput.value = '1200';
    areaInput.value = '0.0005';
    ampleInput.value = '0.40';
    altInput.value = '0.15';
    radiInput.value = '0.08';

    handleInput();
  </script>
</body>
</html>
